{
  pre: [],
  default: [
    {
      name: "Scripts setup",
      type: "PowerShell",
      inline: [
        // if no sessionhost setup scripts are included in other layers, the SessionhostScripts folder may not exist when we copy the sessionhost_setup.ps1 script, which would fail
        "if (!(Test-Path -path \"$env:SystemDrive\\SessionhostScripts\")) {New-Item \"C:\\SessionhostScripts\" -Type Directory}",
        "if (Test-Path -path \"$env:SystemDrive\\imagebuild_resources\\session_scripts\") {Copy-Item -Path \"$env:SystemDrive\\imagebuild_resources\\session_scripts\\*\" -Destination \"C:\\Scripts\" -Recurse}",
        "if (Test-Path -path \"$env:SystemDrive\\imagebuild_resources\\user_scripts\") {Copy-Item -Path \"$env:SystemDrive\\imagebuild_resources\\user_scripts\\*\" -Destination \"C:\\UserScripts\" -Recurse}",
        "if (Test-Path -path \"$env:SystemDrive\\imagebuild_resources\\sessionhost_setup_scripts\") {Copy-Item -Path \"$env:SystemDrive\\imagebuild_resources\\sessionhost_setup_scripts\\*\" -Destination \"C:\\SessionhostScripts\" -Recurse}",
        "Copy-Item -Path \"$env:SystemDrive\\imagebuild_resources\\scripts_setup\\sessionhost_setup.ps1\" -Destination \"C:\\SessionhostScripts\""
      ],
      runAsSystem: true,
      runElevated: true
    }
  ],
  post: []
}